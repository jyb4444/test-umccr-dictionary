(this["webpackJsonpdd-viz"]=this["webpackJsonpdd-viz"]||[]).push([[0],{122:function(e,t){},123:function(e,t){},168:function(e,t,n){e.exports=n(322)},174:function(e,t,n){},178:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},237:function(e,t,n){},238:function(e,t){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},305:function(e,t){},308:function(e,t){},310:function(e,t){},322:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n.n(a),o=n(62),i=n(73),c=n(0),s=n.n(c),l=n(8),d=n.n(l);n(174),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(7),h=n(47),p=function(e){return{type:"GRAPH_UPDATE_HOVERING_NODE",nodeID:e}},g=function(e){return{type:"GRAPH_SET_OVERLAY_PROPERTY_TABLE_HIDDEN",isHidden:e}},f=function(e){return{type:"TOGGLE_GRAPH_TABLE_VIEW",isGraphView:e}},m=function(e){return{type:"GRAPH_CANVAS_RESET_REQUIRED",needReset:e}},y=function(e){return{type:"GRAPH_MATCHED_NODE_OPENED",opened:e}},v=n(3),E=n(4),_=n(5),N=n(6),b=(n(178),n(148)),S=n.n(b),I=n(1),O=n.n(I),C=n(149),w=n.n(C),R=function(e,t){return 0===e.length?t:0===t.length?e:"".concat(e," ").concat(t)},D=function e(t){return"type"in t?(t.type,t.type):"enum"in t?t.enum:"oneOf"in t?t.oneOf.map((function(t){return e(t)})).reduce((function(e,t){return Array.isArray(t)?e.concat(t):(e.push(t),e)}),[]):"anyOf"in t?t.anyOf.map((function(t){return e(t)})).reduce((function(e,t){return Array.isArray(t)?e.concat(t):(e.push(t),e)}),[]):"UNDEFINED"},H=function(e,t){if("tsv"===e||"json"===e){var n="".concat("FIXME").concat(t,"?format=").concat(e);window.open(n)}},j=10,k=4,M=20,P=10,A=function(e){return Object.keys(e).filter((function(t){return"_"!==t.charAt(0)&&t===e[t].id})).map((function(t){return e[t]})).filter((function(e){return e.category&&e.id}))},T=function(e){var t;return"description"in e&&(t=e.description),"term"in e&&(t=e.term.description),t},x=function(){return JSON.parse(localStorage.getItem("datadictionary:searchHistory"))},G=function(e){var t=e.keywordStr;if(!t||0===t.length)return x();var n=JSON.parse(localStorage.getItem("datadictionary:searchHistory")),a=[];if(n&&(a=n.slice(0)),n&&n.find((function(e){return e.keywordStr===t}))){var r=n.findIndex((function(e){return e.keywordStr===t}));(a=n.slice(0)).splice(r,1)}return a.unshift(e),localStorage.setItem("datadictionary:searchHistory",JSON.stringify(a)),a},z=function(){var e=[];return localStorage.setItem("datadictionary:searchHistory",JSON.stringify(e)),e},L=O.a.arrayOf(O.a.arrayOf(O.a.number)),F=O.a.shape({indices:L,arrayIndex:O.a.number,key:O.a.string,value:O.a.string}),B=O.a.shape({name:O.a.string,description:O.a.string,type:O.a.oneOfType([O.a.arrayOf(O.a.string),O.a.string])}),V=O.a.shape({id:O.a.string,title:O.a.string,description:O.a.string,properties:O.a.arrayOf(B)});O.a.shape({item:V,matches:O.a.arrayOf(F)});function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Y=({styles:e={},...t})=>s.a.createElement("svg",W({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"nonzero",fill:"none"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#05B8EE"}),s.a.createElement("path",{d:"M5.45 8.053h2.61V5.45c0-.359.29-.65.65-.65h2.596a.65.65 0 01.648.65v2.602h2.596c.36 0 .65.291.65.65v2.601a.65.65 0 01-.65.652h-2.596v2.595c0 .36-.29.65-.648.65H8.709a.65.65 0 01-.65-.65v-2.595H5.452a.65.65 0 01-.651-.652v-2.6a.65.65 0 01.65-.65z",fill:"#FFF"})));function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ie={clinical:{icon:Y,color:"#05B8EE"},biospecimen:{icon:({styles:e={},...t})=>s.a.createElement("svg",K({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#27AE60",fillRule:"nonzero"}),s.a.createElement("path",{d:"M11.54 8.807c-.091-.111-.131-.15-.13-.29.005-.942.002-1.957.002-2.9 0-.737-.001-1.475.002-2.212.001-.355-.048-.405-.429-.405H9.12c-.278 0-.362.08-.362.344V5.74c.005.798.004 2.431-.004 2.777a.436.436 0 01-.092.251c-1.315 1.616-2.63 3.232-3.96 4.837-.218.263-.272.501-.101.787.006.01.262.52.456.579.13.039 3.279.039 9.447 0 .206 0 .628-.137.892-.437.107-.122.202-.715-.095-1.06-1.321-1.618-2.438-3.051-3.762-4.667z",fill:"#FFF"}))),color:"#27AE60"},data_file:{icon:({styles:e={},...t})=>s.a.createElement("svg",Z({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#7EC500",fillRule:"nonzero"}),s.a.createElement("path",{d:"M6 9.748V4.541c0-.406.192-.603.59-.604l4.483-.004c.148 0 .27.057.374.163l3.287 3.344c.104.105.158.23.158.381l-.004 7.158c0 .301-.134.501-.382.567a.642.642 0 01-.164.017H6.544c-.339 0-.544-.21-.544-.556V9.748z",fill:"#FFF"}),s.a.createElement("path",{fill:"#7EC500",fillRule:"nonzero",d:"M10.3 3.933h1V8h-1z"}),s.a.createElement("path",{fill:"#7EC500",fillRule:"nonzero",d:"M15 7.5v1h-4.7v-1z"}))),color:"#7EC500"},metadata_file:{icon:({styles:e={},...t})=>s.a.createElement("svg",X({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"nonzero"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#F4B940"}),s.a.createElement("g",{transform:"translate(4.5 6)",fill:"#FFF"},s.a.createElement("rect",{width:"5",height:"2",rx:".5"}),s.a.createElement("path",{d:"M6.5 0h4a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z"}),s.a.createElement("rect",{y:"3",width:"5",height:"2",rx:".5"}),s.a.createElement("path",{d:"M6.5 3h4a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z"}),s.a.createElement("rect",{y:"6",width:"5",height:"2",rx:".5"}),s.a.createElement("path",{d:"M6.5 6h4a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z"})))),color:"#F4B940"},analysis:{icon:({styles:e={},...t})=>s.a.createElement("svg",q({width:"20",height:"21",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"nonzero"},s.a.createElement("path",{d:"M10 .499c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10s-10-4.478-10-10c0-5.523 4.477-10 10-10z",fill:"#FF7ABC"}),s.a.createElement("g",{transform:"rotate(-90 10 5)",fill:"#FFF"},s.a.createElement("rect",{width:"4.5",height:"2.7",rx:".5"}),s.a.createElement("rect",{y:"3.6",width:"7.2",height:"2.7",rx:".5"}),s.a.createElement("path",{d:"M.5 7.2h8a.5.5 0 01.5.5v1.7a.5.5 0 01-.5.5h-8a.5.5 0 01-.5-.5V7.7a.5.5 0 01.5-.5z"})))),color:"#FF7ABC"},administrative:{icon:({styles:e={},...t})=>s.a.createElement("svg",U({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#AD91FF",fillRule:"nonzero"}),s.a.createElement("g",{fill:"#FFF"},s.a.createElement("path",{d:"M5.5 4.9h.72c.013.005.026.015.038.016.261.015.522.023.782.044.466.037.93.101 1.385.253.377.126.73.322 1.018.707.038.05.057.1.057.177-.002 2.565-.001 5.13-.001 7.696v.107c-.018-.007-.025-.008-.031-.012-.078-.056-.157-.11-.234-.17a3.81 3.81 0 00-1.973-.803c-.51-.053-1.023-.07-1.534-.101-.07-.005-.142-.001-.22-.001v-.15-7.627c0-.046-.005-.09-.007-.136M13.78 4.9h.72c-.002.045-.007.09-.007.135v7.63c0 .044-.003.088-.004.136h-.077a12.62 12.62 0 00-1.784.118 3.978 3.978 0 00-1.863.79c-.084.064-.17.123-.265.191v-.107c0-2.569 0-5.138.002-7.707 0-.051.02-.115.045-.15.147-.207.319-.366.509-.484.33-.205.68-.304 1.035-.375.506-.1 1.015-.14 1.526-.158.054-.002.108-.013.162-.019"}),s.a.createElement("path",{d:"M3.5 5.9h.983v8.114h.12c.61.012 1.22.01 1.828.039.717.033 1.434.105 2.121.374.316.123.618.295.925.446.01.004.016.018.023.027h-6v-9zM11.5 14.9c.006-.01.011-.022.019-.028.5-.36 1.027-.598 1.584-.702a9.748 9.748 0 011.686-.148l.799-.008h.093V5.9h.819v9h-5z"})))),color:"#AD91FF"},notation:{icon:({styles:e={},...t})=>s.a.createElement("svg",$({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#E74C3C",fillRule:"nonzero"}),s.a.createElement("path",{d:"M2.5 10.208h10M16.5 5.5l-4 4.708M16.5 15.5l-4-5.292M7.25 16.5v-12",stroke:"#FFF",strokeLinecap:"square"}))),color:"#E74C3C"},index_file:{icon:({styles:e={},...t})=>s.a.createElement("svg",Q({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("circle",{fill:"#26D9B1",cx:"10",cy:"10",r:"10"}),s.a.createElement("path",{d:"M4.5 5.5h3a1 1 0 110 2h-3a1 1 0 110-2zM5.5 8.5h3a1 1 0 010 2h-3a1 1 0 110-2zM11.5 8.5h3a1 1 0 010 2h-3a1 1 0 010-2zM7 11.5h3a1 1 0 010 2H7a1 1 0 010-2zM13 11.5h3a1 1 0 010 2h-3a1 1 0 010-2zM10.5 5.5h3a1 1 0 010 2h-3a1 1 0 110-2z",fill:"#FFF"}))),color:"#26D9B1"},clinical_assessment:{icon:({styles:e={},...t})=>s.a.createElement("svg",J({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),s.a.createElement("defs",null,s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",id:"a"}),s.a.createElement("path",{d:"M12.56 9.434c.66.714.551 1.963-.223 2.794-.441.445-1.555 1.18-2.539.294v.866c0 .326-.25.595-.552.595H.552c-.303 0-.552-.27-.552-.595V1.677c0-.327.249-.595.552-.595h1.934V.605c0-.326.249-.594.552-.594h3.727c.303 0 .552.268.552.594v.477h1.932c.302 0 .551.268.551.595v4.786l2.76 2.97zM3.59 1.17v1.01h2.621v-1.01H3.59zM1.077 12.82v.004h7.617V11.34L6.32 8.782c-.083-.088-.138-.177-.138-.297l-.47-2.734c-.053-.603.435-.731.608-.654l2.374.47V2.272h-1.38v.503c-.026.296-.275.566-.551.566H3.038c-.303 0-.552-.27-.552-.595v-.474H1.077v10.55zm10.488-1.424c.387-.418.414-.923.223-1.132L8.477 6.7l-1.574-.327.303 1.723 3.282 3.538c.39.297.856-.03 1.077-.237z",id:"b"})),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("use",{fill:"#3283C8",xlinkHref:"#a"}),s.a.createElement("use",{fill:"#FFF",xlinkHref:"#b",transform:"translate(5 3)"}))),color:"#3283C8"},medical_history:{icon:Y,color:"#05B8EE"},data_observations:{icon:({styles:e={},...t})=>s.a.createElement("svg",ee({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"nonzero",fill:"none"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#FF8585"}),s.a.createElement("g",{fill:"#FFF"},s.a.createElement("path",{d:"M12.58 8.599l.3-.301a.112.112 0 00.028-.11.114.114 0 00-.084-.077l-1.298-.263a.111.111 0 00-.131.131l.262 1.299c.008.04.037.072.076.084.04.012.082 0 .111-.028l.3-.3.704.703a.11.11 0 00.157 0l.278-.278a.112.112 0 000-.157l-.704-.703z"}),s.a.createElement("path",{d:"M16.138 14.024l-.647-1.89a.458.458 0 00-.432-.311h-.099a.89.89 0 00.62-.848V4.893A.89.89 0 0014.695 4h-9.49a.89.89 0 00-.885.893v6.082a.89.89 0 00.62.848h-.098a.458.458 0 00-.432.31l-.648 1.891a1.15 1.15 0 00.148 1.035c.212.3.554.48.92.48h10.24c.366 0 .708-.18.92-.48.212-.3.267-.686.148-1.035zM9.95 4.206c.123 0 .224.101.224.226 0 .124-.1.225-.224.225a.225.225 0 01-.223-.225c0-.125.1-.226.223-.226zm-4.745.657l9.52.03v6.111l-9.55-.03.03-6.11zm6.466 9.8a.126.126 0 01-.104.057H8.334a.126.126 0 01-.105-.056.13.13 0 01-.012-.118l.312-.78a.415.415 0 01.384-.261h2.074c.169 0 .32.103.384.261l.312.78a.13.13 0 01-.012.118z"})))),color:"#FF8585"},experimental_methods:{icon:({styles:e={},...t})=>s.a.createElement("svg",ne({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"nonzero",fill:"none"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#E74C3C"}),s.a.createElement("path",{d:"M15.807 6.539l-1.976 1.976-1.729-.617-.617-1.73 1.976-1.975a3.723 3.723 0 00-4.737 4.642 1.751 1.751 0 00-.156.137L4.51 13.031a1.74 1.74 0 102.46 2.46l4.059-4.06c.05-.049.095-.1.137-.155a3.722 3.722 0 004.642-4.737z",fill:"#FFF"}))),color:"#E74C3C"},subject_characteristics:{icon:({styles:e={},...t})=>s.a.createElement("svg",ae({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"nonzero",fill:"none"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#05B8EE"}),s.a.createElement("g",{fill:"#FFF"},s.a.createElement("path",{d:"M10 9.73c1.38 0 2.5-1.156 2.5-2.88 0-1.723-.367-3.12-2.5-3.12-2.132 0-2.5 1.397-2.5 3.12 0 1.724 1.12 2.88 2.5 2.88zM15.494 14.903c-.054-3.346-.499-4.3-3.9-4.903 0 0-.478.6-1.594.6S8.406 10 8.406 10c-3.364.597-3.836 1.536-3.898 4.794-.005.266-.007.28-.008.25v.351s.81 2.062 5.5 2.062c4.69 0 5.5-2.062 5.5-2.062v-.26c0 .02-.003-.018-.006-.232z"})))),color:"#05B8EE"},imaging:{icon:({styles:e={},...t})=>s.a.createElement("svg",re({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"nonzero",fill:"none"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#7EC500"}),s.a.createElement("path",{d:"M15.81 5H4.19c-.105 0-.19.09-.19.2v9.6c0 .11.085.2.19.2h11.62c.105 0 .19-.09.19-.2V5.2c0-.11-.085-.2-.19-.2zM15 13l-2.69-2.784a.08.08 0 00-.111-.005l-1.866 1.642-2.385-2.935a.08.08 0 00-.126.003L5 12.703V6h10v7z",fill:"#FFF"}))),color:"#7EC500"},study_administration:{icon:({styles:e={},...t})=>s.a.createElement("svg",oe({width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M10 0c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10S0 15.522 0 10 4.477 0 10 0z",fill:"#733EA3",fillRule:"nonzero"}),s.a.createElement("g",{transform:"translate(4 5.5)"},s.a.createElement("path",{d:"M10.8 0H1.2C.54 0 0 .45 0 1v9l2.4-2h8.4c.66 0 1.2-.45 1.2-1V1c0-.55-.54-1-1.2-1z",fill:"#FFF",fillRule:"nonzero"}),s.a.createElement("circle",{fill:"#733EA3",cx:"3.4",cy:"4",r:"1"}),s.a.createElement("circle",{fill:"#733EA3",cx:"6.4",cy:"4",r:"1"}),s.a.createElement("circle",{fill:"#733EA3",cx:"9.4",cy:"4",r:"1"})))),color:"#733EA3"}},ce=({styles:e={},...t})=>s.a.createElement("svg",te({width:"20",height:"21",xmlns:"http://www.w3.org/2000/svg"},t),s.a.createElement("g",{fillRule:"nonzero",fill:"none"},s.a.createElement("path",{d:"M10 .499c5.523 0 10 4.477 10 10 0 5.522-4.477 10-10 10s-10-4.478-10-10c0-5.523 4.477-10 10-10z",fill:"#9B9B9B"}),s.a.createElement("g",{transform:"translate(4 9.5)",fill:"#FFF"},s.a.createElement("rect",{width:"5",height:"2",rx:".5"}),s.a.createElement("path",{d:"M7.5 0h4a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z"})))),se="#9B9B9B",le=function(e){return ie[e]?ie[e].icon:ce},de=function(e){return ie[e]?ie[e].color:se};n(24);function ue(e){return e.replace(/_/gi," ").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function he(e,t){var n=e.concat(t).reduce((function(e,t){var n=e;return n[t]?n[t]+=1:n[t]=1,n}),{});return Object.entries(n).filter((function(e){return e[1]>1})).map((function(e){return Object(o.a)(e,1)[0]}))}var pe=n(15),ge=n.n(pe),fe=n(2),me=function(e,t){if(!e)return e;var n=e.split("\\n");return n.length<=1?e:n.map((function(e,a){return s.a.createElement("span",{key:"span-".concat(a),className:0===a||a===n.length?"":t},e)}))},ye=function(e,t,n){for(var a=0,r=0,o=[],i="".concat(n,"--highlight"),c="".concat(n,"--new-line");r<t.length;)a<t[r][0]&&o.push(s.a.createElement("div",{key:a,className:n},me(e.substring(a,t[r][0]),c))),o.push(s.a.createElement("div",{key:t[r][0],className:"".concat(n," ").concat(i)},me(e.substring(t[r][0],t[r][1]+1),c))),a=t[r][1]+1,r+=1;return a<e.length&&o.push(s.a.createElement("div",{key:a,className:n},me(e.substring(a),c))),o},ve=function(e,t,n){var a=e.find((function(e){return"title"===e.key}));return ye(t,a?a.indices:[],n)},Ee=function(e,t,n){var a=e.find((function(e){return"description"===e.key}));return ye(t,a?a.indices:[],n)},_e=function(e,t){var n=[];return Object.keys(e).forEach((function(a,r){var o=e[a],i=function(e,t,n,a){var r=null,o=null,i=[];return a&&a.forEach((function(e){if("properties.name"===e.key&&e.value===t)r=e;else if("properties.description"===e.key){var a=T(n);e.value===a&&(o=e)}else if("properties.type"===e.key){var c=D(n);"string"===typeof c?c===e.value&&i.push(e):c.includes(e.value)&&i.push(e)}})),{nameMatch:r,descriptionMatch:o,typeMatchList:i}}(0,a,o,t),c=i.nameMatch,s=i.descriptionMatch,l=i.typeMatchList,d={propertyKey:a,property:o,nameMatch:c,descriptionMatch:s,typeMatchList:l};(c||s||l.length>0)&&n.push(d)})),n},Ne=(n(229),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=this.props.hasBorder?"":"data-dictionary-property-table--without-border",n=this.props.hideIsRequired?Object.keys(this.props.properties):Object.keys(this.props.properties).sort((function(t,n){var a=e.props.requiredProperties.includes(t),r=e.props.requiredProperties.includes(n);return a?-1:r?1:0})),a=this.props.onlyShowMatchedProperties||this.props.needHighlightSearchResult?_e(this.props.properties,this.props.matchedResult.matches):[];return s.a.createElement("div",{className:"data-dictionary-property-table ".concat(t)},s.a.createElement("table",{className:"data-dictionary-property-table__table"},s.a.createElement("thead",{className:"data-dictionary-property-table__head"},s.a.createElement("tr",{className:"data-dictionary-property-table__row"},s.a.createElement("th",{className:"data-dictionary-property-table__data data-dictionary-property-table__data--property"},"Property"),s.a.createElement("th",{className:"data-dictionary-property-table__data data-dictionary-property-table__data--type"},"Type"),!this.props.hideIsRequired&&s.a.createElement("th",{className:"data-dictionary-property-table__data data-dictionary-property-table__data--required"},"Required"),s.a.createElement("th",{className:"data-dictionary-property-table__data data-dictionary-property-table__data--description"},"Description"),s.a.createElement("th",{className:"data-dictionary-property-table__data data-dictionary-property-table__data--term"},"Term"))),s.a.createElement("tbody",null,n.map((function(t){var n=e.props.properties[t],r=null,o=null,i=null;if(e.props.needHighlightSearchResult){var c=a.find((function(e){return e.propertyKey===t}));if(c)r=c.nameMatch,o=c.descriptionMatch,i=c.typeMatchList;else if(e.props.onlyShowMatchedProperties)return null}var l="",d="";"term"in n&&(l=n.term.termDef&&n.term.termDef.cde_id,d=n.term.termDef&&n.term.termDef.term_url);var u,h,p=(h="data-dictionary-property-table__span",ye(t,(u=r)?u.indices:[],h)),g=function(e,t,n){var a=D(e);return"string"===typeof a?s.a.createElement("li",null,ye(a,t&&t[0]?t[0].indices:[],n)):a.map((function(e,a){var r=t&&t.find((function(t){return t.value===e}));return r?s.a.createElement("li",{key:a},ye(e,r.indices,n)):s.a.createElement("li",{key:a},ye(e,[],n))}))}(n,i,"data-dictionary-property-table__span"),f=function(e,t,n){var a=T(e);return a||(a="No Description"),ye(a,t?t.indices:[],n)}(n,o,"data-dictionary-property-table__span"),m=e.props.requiredProperties.includes(t);return s.a.createElement("tr",{key:t},s.a.createElement("td",{className:"data-dictionary-property-table__data"},p),s.a.createElement("td",{className:"data-dictionary-property-table__data"},g),!e.props.hideIsRequired&&s.a.createElement("td",{className:"data-dictionary-property-table__data"},m?s.a.createElement("span",{className:"data-dictionary-property-table__required"},s.a.createElement("i",{className:"g3-icon g3-icon--star data-dictionary-property-table__required-icon"}),"Required"):s.a.createElement("span",null,"No")),s.a.createElement("td",{className:"data-dictionary-property-table__data"},f),s.a.createElement("td",{className:"data-dictionary-property-table__data"},s.a.createElement("a",{href:d},l)))})))))}}]),n}(s.a.Component));Ne.defaultProps={requiredProperties:[],hasBorder:!0,needHighlightSearchResult:!1,matchedResult:{},hideIsRequired:!1,onlyShowMatchedProperties:!1};var be=Ne,Se=(n(230),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleCloseNode=function(){e.props.onExpandNode(null)},e.handleDownloadTemplate=function(t,n){t.stopPropagation(),H(n,e.props.node.id)},e}return Object(E.a)(n,[{key:"handleClickNode",value:function(e){this.props.expanded?this.props.onExpandNode(null):this.props.onExpandNode(e)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"data-dictionary-node",style:{borderLeftColor:de(this.props.node.category)},onClick:function(){return e.handleClickNode(e.props.node.id)},onKeyPress:function(){return e.handleClickNode(e.props.node.id)},role:"button",tabIndex:0},s.a.createElement("span",{className:"data-dictionary-node__title"},s.a.createElement("i",{className:"g3-icon g3-icon--folder data-dictionary-node__file-icon"}),this.props.node.title,s.a.createElement("i",{className:"g3-icon g3-icon--chevron-".concat(this.props.expanded?"down":"right"," data-dictionary-node__toggle-icon")})),s.a.createElement("span",{className:"data-dictionary-node__description"},this.props.description),s.a.createElement("div",{className:"data-dictionary-node__download-group"},s.a.createElement("span",{className:"data-dictionary-node__button-wrap"},s.a.createElement(ge.a,{className:"data-dictionary-node__download-button",onClick:function(t){e.handleDownloadTemplate(t,"json")},label:"JSON",rightIcon:"download",buttonType:"secondary"})),s.a.createElement("span",{className:"data-dictionary-node__button-wrap"},s.a.createElement(ge.a,{className:"data-dictionary-node__download-button",onClick:function(t){e.handleDownloadTemplate(t,"tsv")},label:"TSV",rightIcon:"download",buttonType:"secondary"})))),this.props.expanded&&s.a.createElement("div",{className:"data-dictionary-node__property"},s.a.createElement("span",{className:"data-dictionary-node__property-close",onClick:this.handleCloseNode,onKeyPress:this.handleCloseNode,role:"button",tabIndex:0},"Close tab",s.a.createElement("i",{className:"g3-icon g3-icon--cross data-dictionary-node__property-close-icon"})),s.a.createElement("div",{className:"data-dictionary-node__property-summary"},s.a.createElement("span",null,this.props.node.title),s.a.createElement("span",null," has "),s.a.createElement("span",null,Object.keys(this.props.node.properties).length),s.a.createElement("span",null," properties. ")),s.a.createElement(be,{properties:this.props.node.properties,requiredProperties:this.props.node.required})))}}]),n}(s.a.Component));Se.defaultProps={description:"",expanded:!1,onExpandNode:function(){}};var Ie=Se,Oe=(n(231),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=le(this.props.category);return s.a.createElement("div",{className:"data-dictionary-category"},s.a.createElement("div",{className:"data-dictionary-category__head",style:{borderLeftColor:de(this.props.category)}},s.a.createElement(t,{className:"data-dictionary-category__icon"}),s.a.createElement("span",null,ue(this.props.category)),s.a.createElement("span",{className:"data-dictionary-category__download_template"},"Download Template")),this.props.nodes.map((function(t){return s.a.createElement(Ie,{node:t,key:t.id,description:t.description,expanded:e.props.highlightingNodeID&&e.props.highlightingNodeID===t.id,onExpandNode:e.props.onExpandNode})})))}}]),n}(s.a.Component));Oe.defaultProps={highlightingNodeID:null,onExpandNode:function(){}};var Ce=Oe;var we=function(e){var t=e.dictionary,n=e.highlightingNodeID,a=e.onExpandNode,r=e.dictionaryName,o=function(e){return Object.keys(e).filter((function(t){return"_"!==t.charAt(0)&&t===e[t].id})).map((function(t){return e[t]})).filter((function(e){return e.category&&e.id})).reduce((function(e,t){return e[t.category]||(e[t.category]=[]),e[t.category].push(t),e}),{})}(t),i=function(e){var t=A(e).reduce((function(e,t){return e.nodesCount+=1,e.propertiesCount+=Object.keys(t.properties).length,e}),{nodesCount:0,propertiesCount:0});return{nodesCount:t.nodesCount,propertiesCount:t.propertiesCount}}(t),c=i.nodesCount,l=i.propertiesCount;return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,s.a.createElement("span",null,r),s.a.createElement("span",null," dictionary has "),s.a.createElement("span",null,c),s.a.createElement("span",null," nodes and "),s.a.createElement("span",null,l),s.a.createElement("span",null," properties ")),Object.keys(o).map((function(e){return s.a.createElement(Ce,{key:e,nodes:o[e],category:e,highlightingNodeID:n,onExpandNode:a})})))};we.defaultProps={dictionary:{},highlightingNodeID:null,onExpandNode:function(){},dictionaryName:""};var Re=we,De=Object(u.b)((function(e){return{dictionary:e.submission.dictionary,highlightingNodeID:e.ddgraph.tableExpandNodeID,dictionaryName:"Dictionary Utils Viz"}}),(function(e){return{onExpandNode:function(t){return e(function(e){return{type:"TABLE_EXPAND_NODE",nodeID:e}}(t))}}}))(Re),He=n(52),je=n.n(He),ke=(n(237),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClickGraphButton=function(){e.props.onSetGraphView(!0),e.props.onResetGraphCanvas()},e.handleClickOverlayPropertyButton=function(){e.props.onSetGraphView(!0),e.props.onSetOverlayPropertyTableHidden(!e.props.overlayPropertyHidden)},e.downloadTemplatesEnabled=function(){return e.props.relatedNodeIDs.length>e.props.excludedNodesForTemplates||he(e.props.relatedNodeIDs,e.props.excludedNodesForTemplates).length!==e.props.relatedNodeIDs.length},e.handleDownloadAllTemplates=function(t){var n={};e.props.relatedNodeIDs.filter((function(t){return!e.props.excludedNodesForTemplates.includes(t)})).forEach((function(e){n[e]="".concat(e,"-template.").concat(t)}),[]);var a=e.props.allRoutes.map((function(t){return t.filter((function(t){return!e.props.excludedNodesForTemplates.includes(t)}))}));e.props.downloadMultiTemplate(t,n,a,e.props.clickingNodeName,e.props.dictionaryVersion)},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this;return this.props.dataModelStructure?s.a.createElement("div",{className:"data-model-structure"},s.a.createElement("h4",{className:"data-model-structure__header"},"Data Model Structure"),s.a.createElement("div",{className:"data-model-structure__containter"},s.a.createElement("div",{className:"data-model-structure__path-line"}),this.props.dataModelStructure.map((function(t,n){var a=t.nodeID,r=t.nodeIDsBefore,o=t.linksBefore,i=t.category,c=le(i),l=n===e.props.dataModelStructure.length-1?"data-model-structure__node-name--last":"";return s.a.createElement(s.a.Fragment,{key:a},r.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"data-model-structure__summary-between"},r.length," nodes with ",o.length," links"),!e.props.isGraphView&&s.a.createElement(ge.a,{onClick:e.handleClickGraphButton,label:"See it on graph",className:"data-model-structure__graph-button",buttonType:"secondary"})),s.a.createElement("div",{className:"data-model-structure__node"},s.a.createElement(c,{className:"data-model-structure__icon"}),s.a.createElement("span",{className:"data-model-structure__node-name ".concat(l," introduction")},a)))}))),this.props.isGraphView&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ge.a,{onClick:this.handleClickOverlayPropertyButton,label:this.props.overlayPropertyHidden?"Open properties":"Close properties",className:"data-model-structure__table-button",rightIcon:"list",buttonType:"primary"}),this.downloadTemplatesEnabled()&&s.a.createElement(je.a,{className:"data-model-structure__template-download-dropdown"},s.a.createElement(je.a.Button,null,"Download templates"),s.a.createElement(je.a.Menu,null,s.a.createElement(je.a.Item,{rightIcon:"download",onClick:function(){return e.handleDownloadAllTemplates("tsv")}},"TSV"),s.a.createElement(je.a.Item,{rightIcon:"download",onClick:function(){return e.handleDownloadAllTemplates("json")}},"JSON"))))):s.a.createElement(s.a.Fragment,null)}}]),n}(s.a.Component));ke.defaultProps={dataModelStructure:null,isGraphView:!0,onSetGraphView:function(){},onSetOverlayPropertyTableHidden:function(){},onResetGraphCanvas:function(){},overlayPropertyHidden:!0,downloadMultiTemplate:function(e,t,n,a,r){if("tsv"===e||"json"===e){var o=new w.a;Promise.all(Object.keys(t).map((function(n){var a="".concat("FIXME").concat(n,"?format=").concat(e),r=t[n];return fetch(a).then((function(e){if(e.ok)return e.text();throw new Error('cannot download template for node "'.concat(n,'"'))})).then((function(e){o.file(r,e)})).catch((function(){throw new Error('cannot download template for node "'.concat(n,'"'))}))}))).then((function(){var t=new Date,i="The following ".concat(e.toUpperCase()," templates were downloaded from ").concat("Data Dictionary Vizualizations"," on ").concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString(),'. The following are all possible paths from "').concat("Project",'" node to "').concat(a,'" using data dictionary version ').concat(r,". The downloaded ").concat(e.toUpperCase()," files need to be submitted in the order shown in the chosen path(s) below:\n");i=i.concat(n.map((function(e,t){return"".concat(t+1,". ").concat(e.join(","))})).join("\n")),o.file("README.txt",i),o.generateAsync({type:"blob"}).then((function(t){S.a.saveAs(t,"templates-".concat(e,".zip"))}))}))}},excludedNodesForTemplates:["program","project"],relatedNodeIDs:[],allRoutes:[],clickingNodeName:"",dictionaryVersion:"Unknown"};var Me=ke,Pe=Object(u.b)((function(e){return{dataModelStructure:e.ddgraph.dataModelStructure,isGraphView:e.ddgraph.isGraphView,overlayPropertyHidden:e.ddgraph.overlayPropertyHidden,relatedNodeIDs:e.ddgraph.dataModelStructureRelatedNodeIDs,allRoutes:e.ddgraph.dataModelStructureAllRoutesBetween,clickingNodeName:e.ddgraph.highlightingNode?e.ddgraph.highlightingNode.label:"",dictionaryVersion:e.versionInfo.dictionaryVersion}}),(function(e){return{onSetGraphView:function(t){return e(f(t))},onSetOverlayPropertyTableHidden:function(t){return e(g(t))},onResetGraphCanvas:function(){return e(m(!0))}}}))(Me),Ae=n(51),Te=n(155),xe=n(102),Ge=n(162),ze=function e(t,n,a){var r=[];return t.subgroup&&t.subgroup.forEach((function(t){t.subgroup?r=r.concat(e(t,n,a)):r.push(Object(fe.a)({source:n[a],target:n[t.target_type],exists:1},t))})),r};function Le(e,t){return function e(t,n,a){var r=new Set;return r.add(t),a.set(t,r),n[t].forEach((function(t){var o="object"===typeof t.source?t.source.id:t.source;a.get(o)||(a=e(o,n,a),r.add(o),a.get(o).forEach((function(e){r.add(e)})))})),a.set(t,r),a}(e,t,new Map)}function Fe(e,t,n){var a=n&&n.breadthFirstInfo?n.breadthFirstInfo:function(e,t){var n={bfOrder:[],treeLevel2Names:[],name2Level:{}},a=t.reduce((function(e,t){var n="object"===typeof t.target?t.target.id:t.target;return e[n]?e[n].push(t):console.error("Edge points to unknown node: ".concat(n)),e}),e.reduce((function(e,t){var n=e;return n[t.id]=[],n}),{})),r=function(e,t){var n=t.reduce((function(e,t){var n="object"===typeof t.source?t.source.id:t.source;return e[n]&&(e[n]=!1),e}),e.reduce((function(e,t){var n=e;return n[t.id]=!0,n}),{})),a=e.find((function(e){return n[e.id]}));return a?a.id:null}(e,t);if(!r)return console.log("Could not find root of given graph"),n;var o=new Set,i=[];i.push({query:r,level:0}),a[r]||(a[r]=[]);for(var c={},s=Le(r,a),l=function(e){var t=i[e],n=t.query,r=t.level;c[n]=r,a[n].forEach((function(e){var t="object"===typeof e.source?e.source.id:e.source;a[t]?s.get(t).has(n)||i.push({query:t,level:r+1}):console.log("Edge comes from unknown node ".concat(t))}))},d=0;d<i.length;d+=1)l(d);(i=[]).push({query:r,level:0});for(var u=function(e){var t=i[e],r=t.query,s=t.level;n.bfOrder.push(r),o.add(r),n.treeLevel2Names.length<=s&&n.treeLevel2Names.push([]),n.treeLevel2Names[s].push(r),n.name2Level[r]=s,a[r].forEach((function(e){var t="object"===typeof e.source?e.source.id:e.source;a[t]?o.has(t)||c[t]!==s+1||(o.add(t),i.push({query:t,level:s+1})):console.log("Edge comes from unknown node ".concat(t))}))},h=0;h<i.length;h+=1)u(h);return n}(e,t),r=e.reduce((function(e,t){var n=e;return n[t.id]=t,n}),{}),o=function(){if(!n||!n.numPerRow)return a.treeLevel2Names;var e=n.numPerRow;return a.bfOrder.reduce((function(t,n){if(t.length<2)t.push([n]);else{var a=t[t.length-1];a.length<e?a.push(n):t.push([n])}return t}),[])}(),i=o.length;return o.forEach((function(e,t){var n=e.length;e.forEach((function(e,a){var o=r[e];o.position=[(a+1)/(n+1),(t+1)/(i+1)],o.positionIndex=[a,t]}))})),a}var Be=function(e,t){for(var n=[],a=t.find((function(t){return t.id===e})).outLinks,r=function(){var e=[];a.forEach((function(a){n.includes(a)||e.includes(a)||(n.push(a),t.find((function(e){return e.id===a})).outLinks.forEach((function(t){e.push(t)})))})),a=e};a&&a.length>0;)r();return n},Ve=function(e,t){for(var n=t.find((function(t){return t.id===e})),a=n.outLinks,r=a.map((function(e){return{source:n.id,target:e}})),o={};a.length>0;){for(var i=[],c=function(e){var n=a[e];if(o[n])return"continue";for(var c=t.find((function(e){return e.id===n})).outLinks,s=0;s<c.length;s+=1){var l=c[s];r.push({source:n,target:l}),o[n]=!0,i.push(l)}},s=0;s<a.length;s+=1)c(s);a=i}return r},Ue=function(e,t,n,a,r){var o=r.find((function(t){return t.id===e})),i=t?o.inLinks:o.outLinks;return i.filter((function(e){return n.includes(e)})).filter((function(r){return a.find((function(a){return t?function(t,a){return t.target===e&&t.source===a&&n.includes(t.source)}(a,r):function(t,a){return t.source===e&&t.target===a&&n.includes(t.target)}(a,r)}))})).filter((function(t){return t!==e}))},qe=function(e,t,n,a){var r=[];return t.forEach((function(o){var i=Ue(o,e,t,n,a);i&&0!==i.length||r.push(o)})),r},Ke=function(e,t,n){var a=[];return e.forEach((function(r){(function(e,t,n,a){var r=qe(!0,t,n,a);if(r.includes(e))return!1;for(var o=r,i=[],c=function(){var r=[];o.forEach((function(o){if(!i.includes(o)&&!r.includes(o)){i.push(o);var c=a.find((function(e){return e.id===o})),s=c.inLinks.filter((function(e){return n.find((function(t){return t.source===e&&t.target===o}))})),l=c.outLinks.filter((function(e){return n.find((function(t){return t.target===e&&t.source===o}))}));[].concat(Object(Ae.a)(s),Object(Ae.a)(l)).filter((function(e){return t.includes(e)})).filter((function(t){return t!==e})).forEach((function(e){r.push(e)}))}})),o=r};o.length>0;)c();return i.length!==t.length-1})(r,e,t,n)&&a.push(r)})),a},We=function(e,t,n,a){for(var r=qe(e,t,n,a),o=[];r.length>0;){for(var i=[],c=function(c){var s=r[c];o.includes(s)||o.push(s);var l=a.find((function(e){return e.id===s}));if(l)for(var d=(e?l.outLinks:l.inLinks).filter((function(a){return!!t.includes(a)&&(e?n.find((function(e){return e.source===s&&a===e.target})):n.find((function(e){return e.target===s&&a===e.source})))})),u=0;u<d.length;u+=1){var h=d[u];r.includes(h)||i.includes(h)||i.push(h)}},s=0;s<r.length;s+=1)c(s);r=i}return o},Ye=function(e,t,n,a,r){for(var o=r.find((function(t){return t.id===e})),i=[],c=o.outLinks.filter((function(t){return a.find((function(n){return n.source===e&&n.target===t}))})),s=c,l=c.map((function(t){return{source:e,target:t}})),d=function(){var e=[];s.forEach((function(o){if(!i.includes(o)&&!e.includes(o)&&o!==t){i.push(o);var c=r.find((function(e){return e.id===o})).outLinks.filter((function(e){return n.includes(e)})).filter((function(e){return a.find((function(t){return t.source===o&&t.target===e}))}));c.forEach((function(e){l.push({source:o,target:e})})),c.filter((function(e){return e!==t})).forEach((function(t){e.push(t)}))}})),s=e};s.length>0;)d();return{nodeIDs:We(!1,i,a,r),links:l}},Je=function(e,t,n,a,r){var o=[];return function e(i,c){if(i===t){var s=Array.from(c);return s.reverse(),void o.push(s)}r.find((function(e){return e.id===i})).outLinks.forEach((function(t){c.has(t)||n.includes(t)&&a.find((function(e){return e.target===t&&e.source===i}))&&(c.add(t),e(t,c),c.delete(t))}))}(e,new Set([e])),o},Ze=function(e,t,n){var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["program"],a=e.dictionary,r=Object.keys(a).filter((function(e){return!e.startsWith("_")&&"object"===a[e].type&&"internal"!==a[e].category&&!n.includes(e)})).map((function(t){var n=0;return e.counts_search&&(n=e.counts_search["_".concat(t,"_count")]),Object(fe.a)({name:a[t].title,count:n},a[t])})).filter((function(e){return t||0!==e.count})),o=r.reduce((function(e,t){return e[t.id]=t,e}),{}),i=n.reduce((function(e,t){return e[t]=!0,e}),{}),c=r.filter((function(e){return e.links&&e.links.length>0})).reduce((function(e,t){var n=t.links.map((function(e){return Object(fe.a)({source:t,target:o[e.target_type],exists:1},e)}));return e.concat(n)}),[]).reduce((function(e,t){var n=e;if(t.target&&n.push(t),t.subgroup){var a=ze(t,o,t.source.id);n=n.concat(a)}return n}),[]).filter((function(e){return e.target&&e.target.id in o&&!(e.target.id in i)})).map((function(t){var n=t;return n.exists=e.links_search?e.links_search["".concat(n.source.id,"_").concat(n.name,"_to_").concat(n.target.id,"_link")]:void 0,n})).filter((function(e){return t||e.exists||void 0===e.exists}));return{nodes:r,edges:c}}({dictionary:e,counts_search:t,links_search:n},!0,[]),r=a.nodes,o=a.edges,i=function(e,t){return function(e,t,n){var a="digraph dictionary {\n";return a+='size="'.concat(5,", ").concat(5,'"\n'),a+="ratio=".concat(1,"\n"),e.forEach((function(e){a+="".concat(e.id,' [type="').concat(e.category,'" label="').concat(e.name,'" fixedsize=true width=').concat(1.2," height=").concat(.8," shape=rectangle\n]\n")})),t.forEach((function(e){a+="".concat(e.source.id," -> ").concat(e.target.id,"[arrowhead=none tailport=s ]\n")})),n&&n.forEach((function(e,t){a+="{rank=".concat(t," ").concat(e.join(" "),"}\n")})),a+="}"}(e,t,Fe(e,t).treeLevel2Names)}(r,o);return new Te.a({Module:xe.Module,render:xe.render}).renderJSONObject(i).then((function(e){var t=e.objects.filter((function(e){return!e.rank})).map((function(e){var t=e._draw_[1].points.reduce((function(e,t){return e.x1>t[0]&&(e.x1=t[0]),e.y1>t[1]&&(e.y1=t[1]),e.x2<t[0]&&(e.x2=t[0]),e.y2<t[1]&&(e.y2=t[1]),e}),{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0}),n=P,a=(t.x1+t.x2)/2,i=t.y1,c=t.x2-t.x1,s=t.y2-t.y1,l=r.find((function(t){return t.id===e.name})),d=o.filter((function(t){return t.source.id===e.name})).map((function(e){return e.target.id})),u=o.filter((function(t){return t.target.id===e.name})).map((function(e){return e.source.id})),h=e.type.toLowerCase(),p=de(h),g=M,f=j,m=k,y=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,a=e.split(" "),r=[],o="",i=0;i<a.length;i+=1)if(R(o,a[i]).length>t)if(a[i].length>n){var c=t-o.length-1;for(o.length>0&&(c-=1),r.push("".concat(R(o,a[i].substring(0,c)),"-"));c+t<a[i].length;){var s=c+t-1;r.push("".concat(a[i].substring(c,s),"-")),c=s}o=a[i].substring(c)}else o.length>0&&r.push(o),o=a[i];else o=R(o,a[i]);return r.push(o),r}(e.label),v=s,E=Math.max(v,2*g+y.length*(f+m)),_=l.required?l.required.length:0,N=l.properties?Object.keys(l.properties).length-_:0,b=0;return l&&l.positionIndex&&l.positionIndex.length>=2&&(b=l.positionIndex[1]),{id:e.name,type:h,boundingBox:t,topCenterX:a,topCenterY:i,width:c,height:E,color:p,iconRadius:n,textPadding:g,fontSize:f,textLineGap:m,names:y,label:e.label,level:b,outLinks:d,inLinks:u,_gvid:e._gvid,requiredPropertiesCount:_,optionalPropertiesCount:N}})),n=e.edges.map((function(e){var n=e._draw_[1].points,a="M".concat(n[0].join(","),"C").concat(n.slice(1).map((function(e){return"".concat(e[0],",").concat(e[1])})).join(" ")),r=t.find((function(t){return t._gvid===e.tail})),i=t.find((function(t){return t._gvid===e.head}));if(r.level===i.level+1){var c=[(r.boundingBox.x1+r.boundingBox.x2)/2,r.boundingBox.y1],s=[(i.boundingBox.x1+i.boundingBox.x2)/2,i.boundingBox.y2];a="M".concat(c[0]," ").concat(c[1]," \n              L ").concat(s[0]," ").concat(s[1])}var l=o.find((function(e){return e.source.id===r.id&&e.target.id===i.id})).required;return{source:r.id,target:i.id,controlPoints:n,pathString:a,required:l}})),a=e._draw_.find((function(e){return"P"===e.op})).points;return{nodes:t,edges:n,graphBoundingBox:a}})).catch((function(e){throw e}))},Xe=function(e,t){if(!e)return[];var n=Be(e.id,t);return n.includes(e.id)?n:[e.id].concat(Object(Ae.a)(n))},$e=function(e,t,n){if(!e||!t)return[];var a=Ve(t,n);return a.push({source:e.id,target:t}),a},Qe=function(e,t,n,a){if(!e)return null;var r=e.id,o=Ke(t,n,a),i=o.includes(r)?o:[].concat(Object(Ae.a)(o),[r]);if(!i||0===i.length)return null;var c=function(e,t,n,a){return We(!0,t,n,a).filter((function(t){return e.includes(t)}))}(i,t,n,a);if(!c||0===c.length)return null;var s=c,l=function(e,t,n){var a=qe(!1,e,t,n);return 1===a.length?a[0]:null}(t,n,a);l&&!s.includes(l)&&s.push(l);for(var d=[],u=1;u<s.length;u+=1){var h=Ye(s[u-1],s[u],t,n,a),p=h.nodeIDs,g=h.links;d.push({nodeID:s[u-1],nodeIDsBefore:p,linksBefore:g})}var f=[];if(l)d.push({nodeID:l,nodeIDsBefore:[],linksBefore:[]}),f=Je(r,l,t,n,a);else{var m=s[s.length-1],y=Be(m,a),v=Ve(m,a);d.push({nodeID:m,nodeIDsBefore:y,linksBefore:v}),y.forEach((function(e){f=f.concat(Je(r,e,t,n,a))}))}return{dataModelStructure:d=d.map((function(e){var t=e.nodeID,n=e.nodeIDsBefore,r=e.linksBefore,o=a.find((function(e){return e.id===t})).type;return{nodeID:t,nodeIDsBefore:n,linksBefore:r,category:o}})).reverse(),routesBetweenStartEndNodes:f}},et=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).oldHighlightingNode=null,a.oldSecondHighlightingNodeID=null,a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.layoutInitialized||Ze(this.props.dictionary,this.props.countsSearch,this.props.linksSearch).then((function(t){e.props.onGraphLayoutCalculated(t);var n=function(e){var t=e.map((function(e){return e.type}));return Ge.a.uniq(t)}(t.nodes);e.props.onGraphLegendCalculated(n)}))}},{key:"componentWillUpdate",value:function(e){var t=e.highlightingNode,n=e.secondHighlightingNodeID;if(this.oldHighlightingNode!==t){var a=Xe(t,this.props.nodes);this.props.onHighlightRelatedNodesCalculated(a);var r=t?t.outLinks:[];this.props.onSecondHighlightingNodeCandidateIDsCalculated(r)}if(this.oldSecondHighlightingNodeID!==n){var o=$e(t,n,this.props.nodes);this.props.onPathRelatedToSecondHighlightingNodeCalculated(o)}if(this.oldHighlightingNode!==t||this.oldSecondHighlightingNodeID!==n)if(n){var i=this.getDataModelStructureForSecondHighlightingNodes(t,n),c=i.dataModelStructure,s=i.dataModelStructureRelatedNodeIDs,l=i.routesBetweenStartEndNodes;this.props.onDataModelStructureCalculated(c,s,l)}else if(t){var d=this.getDataModelStructureForHighlightedNodes(t),u=d.dataModelStructure,h=d.dataModelStructureRelatedNodeIDs,p=d.routesBetweenStartEndNodes;this.props.onDataModelStructureCalculated(u,h,p)}else this.props.onDataModelStructureCalculated(null);this.oldHighlightingNode=t,this.oldSecondHighlightingNodeID=n}},{key:"getDataModelStructureForHighlightedNodes",value:function(e){var t=Xe(e,this.props.nodes),n=this.props.edges.filter((function(e){return t.includes(e.source)&&t.includes(e.target)})).map((function(e){return{source:e.source,target:e.target}})),a=Qe(e,t,n,this.props.nodes),r=a.dataModelStructure,o=a.routesBetweenStartEndNodes;return{dataModelStructure:r,dataModelStructureRelatedNodeIDs:t,routesBetweenStartEndNodes:o}}},{key:"getDataModelStructureForSecondHighlightingNodes",value:function(e,t){var n=[],a=$e(e,t,this.props.nodes);a.forEach((function(e){n.includes(e.source)||n.push(e.source),n.includes(e.target)||n.push(e.target)}));var r=Qe(e,n,a,this.props.nodes),o=r.dataModelStructure,i=r.routesBetweenStartEndNodes;return{dataModelStructure:o,dataModelStructureRelatedNodeIDs:n,routesBetweenStartEndNodes:i}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null)}}]),n}(s.a.Component);et.defaultProps={dictionary:{},countsSearch:[],linksSearch:[],onGraphLayoutCalculated:function(){},onGraphLegendCalculated:function(){},highlightingNode:null,nodes:[],edges:[],onHighlightRelatedNodesCalculated:function(){},secondHighlightingNodeID:null,onSecondHighlightingNodeCandidateIDsCalculated:function(){},onPathRelatedToSecondHighlightingNodeCalculated:function(){},onDataModelStructureCalculated:function(){},layoutInitialized:!1};var tt=et,nt=Object(u.b)((function(e){return{dictionary:e.submission.dictionary,countsSearch:e.submission.counts_search,linksSearch:e.submission.links_search,highlightingNode:e.ddgraph.highlightingNode,nodes:e.ddgraph.nodes,edges:e.ddgraph.edges,secondHighlightingNodeID:e.ddgraph.secondHighlightingNodeID,layoutInitialized:e.ddgraph.layoutInitialized}}),(function(e){return{onGraphLayoutCalculated:function(t){return e(function(e){return{type:"GRAPH_LAYOUT_CALCULATED",nodes:e.nodes,edges:e.edges,graphBoundingBox:e.graphBoundingBox}}(t))},onGraphLegendCalculated:function(t){return e(function(e){return{type:"GRAPH_LEGEND_CALCULATED",legendItems:e}}(t))},onHighlightRelatedNodesCalculated:function(t){return e(function(e){return{type:"GRAPH_UPDATE_RELATED_HIGHLIGHTING_NODE",relatedNodeIDs:e}}(t))},onSecondHighlightingNodeCandidateIDsCalculated:function(t){return e(function(e){return{type:"GRAPH_UPDATE_SECOND_HIGHLIGHTING_NODE_CANDIDATES",secondHighlightingNodeCandidateIDs:e}}(t))},onPathRelatedToSecondHighlightingNodeCalculated:function(t){return e(function(e){return{type:"GRAPH_UPDATE_PATH_RELATED_TO_SECOND_HIGHLIGHTING_NODE",pathRelatedToSecondHighlightingNode:e}}(t))},onDataModelStructureCalculated:function(t,n,a){return e(function(e,t,n){return{type:"GRAPH_UPDATE_DATA_MODEL_STRUCTURE",dataModelStructure:e,dataModelStructureRelatedNodeIDs:t,routesBetweenStartEndNodes:n}}(t,n,a))}}}))(tt),at=(n(239),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).toggleLegend=function(){a.setState((function(e){return{show:!e.show}}))},a.state={show:!0},a}return Object(E.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"data-dictionary-graph-legend ".concat(this.state.show?"":"data-dictionary-graph-legend--toggled")},this.state.show?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"data-dictionary-graph-legend__close g3-icon g3-icon--cross",onClick:this.toggleLegend,onKeyPress:this.toggleLegend,role:"button",tabIndex:0}),s.a.createElement("div",{className:"data-dictionary-graph-legend__item body"},s.a.createElement("i",{className:"data-dictionary-graph-legend__required-icon data-dictionary-graph-legend__required-icon--required g3-icon g3-icon--minus"}),s.a.createElement("span",{className:"data-dictionary-graph-legend__text"},"Required Link")),s.a.createElement("div",{className:"data-dictionary-graph-legend__item body"},s.a.createElement("i",{className:"data-dictionary-graph-legend__required-icon data-dictionary-graph-legend__required-icon g3-icon g3-icon--minus"}),s.a.createElement("span",{className:"data-dictionary-graph-legend__text"},"Optional Link")),this.props.items.map((function(e){var t=de(e),n=le(e);return s.a.createElement("div",{key:e,className:"data-dictionary-graph-legend__item body"},s.a.createElement("span",{className:"data-dictionary-graph-legend__circle-wrapper"},n?s.a.createElement(n,null):s.a.createElement("span",{className:"data-dictionary-graph-legend__circle",style:{backgroundColor:t}})),s.a.createElement("span",{className:"data-dictionary-graph-legend__text"},ue(e)))}))):s.a.createElement("span",{className:"data-dictionary-graph-legend__info",onClick:this.toggleLegend,onKeyPress:this.toggleLegend,role:"button",tabIndex:0},s.a.createElement("i",{className:"data-dictionary-graph-legend__info-icon g3-icon g3-icon--question-mark"})))}}]),n}(s.a.Component));at.defaultProps={items:[]};var rt=at,ot=Object(u.b)((function(e){return{items:e.ddgraph.legendItems}}))(rt),it=n(326),ct=n(78),st=n(50),lt=n(327),dt=n(81),ut=(n(240),{select:it.a,zoom:dt.a,zoomTransform:dt.c,zoomIdentity:dt.b,transition:st.b,easeLinear:lt.a,get event(){return ct.c}}),ht=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).handleResize=function(){a.props.isGraphView&&a.updateCanvasSize()},a.handleCanvasUpdate=function(){var e=a.canvasElement.current.getBoundingClientRect();a.props.onCanvasBoundingBoxUpdate(e)},a.handleClick=function(){a.props.onClickBlankSpace()},a.zoomAction=function(e){var t=ut.zoomTransform(a.zoomCatcher.node()),n=e>1?-1:1;a.zoomCatcher.transition(a.transition).call(a.zoomBehavior.transform,t.translate(n*(a.state.canvasWidth/2)*Math.abs(e-1),n*(a.state.canvasHeight/2)*Math.abs(e-1)).scale(e))},a.handleZoomIn=function(){a.zoomAction(1.2)},a.handleZoomOut=function(){a.zoomAction(.8)},a.handleReset=function(){a.zoomCatcher.transition(a.transition).call(a.zoomBehavior.transform,ut.zoomIdentity)},a.state={canvasWidth:0,canvasHeight:0},a.canvasElement=s.a.createRef(),a.svgElement=s.a.createRef(),a.containerElement=s.a.createRef(),a.transition=ut.transition().duration(150).ease(ut.easeLinear),a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.zoomBehavior=ut.zoom().scaleExtent([this.props.minZoom,this.props.maxZoom]).translateExtent([this.props.topLeftTranslateLimit,this.props.bottomRightTranslateLimit]).on("zoom",(function(){e.handleCanvasUpdate(),e.zoomTarget.attr("transform",ut.event.transform)})),this.zoomTarget=ut.select(".canvas__container"),this.zoomCatcher=ut.select(".canvas__overlay").style("fill","none").style("pointer-events","all").call(this.zoomBehavior),this.updateCanvasSize(),window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(){this.props.needReset&&(this.handleReset(),this.props.onResetCanvasFinished())}},{key:"componentWillUnmount",value:function(){ut.select(".canvas__overlay").on(".zoom",null),window.removeEventListener("resize",this.handleResize)}},{key:"updateCanvasSize",value:function(){this.setState({canvasWidth:this.canvasElement.current.clientWidth,canvasHeight:this.canvasElement.current.clientHeight}),this.handleCanvasUpdate()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"canvas",ref:this.canvasElement,style:{width:"100%",height:"100%"}},s.a.createElement("div",{className:"canvas__zoom-button-group"},s.a.createElement("div",{className:"canvas__zoom-button canvas__zoom-button--reset",onClick:this.handleReset,onKeyPress:this.handleReset,role:"button",tabIndex:-1},s.a.createElement("i",{className:"canvas__zoom-icon g3-icon g3-icon--reset"})),s.a.createElement("div",{className:"canvas__zoom-button canvas__zoom-button--zoom-in",onClick:this.handleZoomIn,onKeyPress:this.handleZoomIn,role:"button",tabIndex:-1},s.a.createElement("i",{className:"canvas__zoom-icon g3-icon g3-icon--plus"})),s.a.createElement("div",{className:"canvas__zoom-button canvas__zoom-button--zoom-out",onClick:this.handleZoomOut,onKeyPress:this.handleZoomOut,role:"button",tabIndex:-1},s.a.createElement("i",{className:"canvas__zoom-icon canvas__zoom-icon--zoom-in g3-icon g3-icon--minus"}))),s.a.createElement("svg",{className:"canvas__svg",ref:this.svgElement,width:this.state.canvasWidth,height:this.state.canvasHeight},s.a.createElement("rect",{className:"canvas__overlay",width:this.state.canvasWidth,height:this.state.canvasHeight,onClick:this.handleClick}),s.a.createElement("g",{className:"canvas__container",ref:this.containerElement},s.a.Children.map(this.props.children,(function(t){return s.a.cloneElement(t,{canvasWidth:e.state.canvasWidth,canvasHeight:e.state.canvasHeight})})))))}}]),n}(s.a.Component);ht.defaultProps={minZoom:.1,maxZoom:10,topLeftTranslateLimit:[-1/0,-1/0],bottomRightTranslateLimit:[1/0,1/0],onClickBlankSpace:function(){},onCanvasBoundingBoxUpdate:function(){},isGraphView:!0,needReset:!1,onResetCanvasFinished:function(){}};var pt=ht,gt=Object(u.b)((function(e){return{isGraphView:e.ddgraph.isGraphView,needReset:e.ddgraph.needReset}}),(function(e){return{onClickBlankSpace:function(){return e({type:"GRAPH_CLICK_BLANK_SPACE"})},onCanvasBoundingBoxUpdate:function(t){return e(function(e){return{type:"GRAPH_UPDATE_CANVAS_BOUNDING_RECT",canvasBoundingRect:e}}(t))},onResetCanvasFinished:function(){return e(m(!1))}}}))(pt),ft=(n(241),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).svgElement=s.a.createRef(),a}return Object(E.a)(n,[{key:"getSVGElement",value:function(){return this.svgElement.current}},{key:"render",value:function(){if((void 0===this.props.node.id||void 0===this.props.node.type||void 0===this.props.node.textPadding||void 0===this.props.node.topCenterX||void 0===this.props.node.topCenterY||void 0===this.props.node.width||void 0===this.props.node.height||void 0===this.props.node.color||void 0===this.props.node.names||void 0===this.props.node.iconRadius)&&void 0!==this.props.node.textLineGap&&void 0!==this.props.node.fontSize)return null;var e=this.props.isFaded?"graph-node--faded":"",t=this.props.isHalfFaded?"graph-node--half-faded":"",n=this.props.isDashed?"graph-node--dashed":"",a=this.props.isClickable?"graph-node--clickable":"graph-node--not-clickable",r=this.props.isHighlightingNode?"graph-drawer__node--current-highlighting":"",o=le(this.props.node.type);return s.a.createElement("g",{ref:this.svgElement,key:this.props.node.id,transform:"translate(".concat(this.props.node.topCenterX,", ").concat(this.props.node.topCenterY,") "),className:"graph-node \n          ".concat(e," \n          ").concat(t," \n          ").concat(n," \n          ").concat(a," \n          ").concat(r),onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,onClick:this.props.onClick,id:this.props.node.id},s.a.createElement("rect",{className:"graph-node__rect",x:-this.props.node.width/2,y:0,width:this.props.node.width,height:this.props.node.height,rx:4,ry:4,stroke:this.props.node.color}),function(e,t,n,a,r){for(var o,i=[],c=0,l=0,d=e,u=0,h={x:0,textAnchor:"middle",alignmentBaseline:"hanging",fontSize:n,className:"graph-node__text"},p={textAnchor:"middle",alignmentBaseline:"hanging",fontSize:n},g=Object(fe.a)({},p,{className:"graph-node__tspan"}),f=Object(fe.a)({},p,{className:"graph-node__tspan graph-node__tspan--highlight"});c<d.length;){var m=d[c];o=l+m.length;for(var y=a+c*(n+r),v=Object(fe.a)({},h,{key:c,y:y}),E=0,_=[];u<t.length;){var N=t[u][0],b=t[u][1]+1;if(N>o){_.push(s.a.createElement("tspan",Object.assign({key:E},g),m.substring(E))),E=m.length;break}var S=N-l,I=b-l;if(E<S&&(_.push(s.a.createElement("tspan",Object.assign({key:E},g),m.substring(E,S))),E=S),!(b<=o)){_.push(s.a.createElement("tspan",Object.assign({key:E},f),m.substring(E))),E=m.lenght;break}_.push(s.a.createElement("tspan",Object.assign({key:E},f),m.substring(E,I))),E=I,u+=1}E<m.length&&_.push(s.a.createElement("tspan",Object.assign({key:E},g),m.substring(E))),i.push(s.a.createElement("text",v,_)),c+=1,l+=m.length+1}return i}(this.props.node.names,this.props.matchedNodeNameIndices,this.props.node.fontSize,this.props.node.textPadding,this.props.node.textLineGap),s.a.createElement("g",{transform:"translate(".concat(-this.props.node.iconRadius,", ").concat(-this.props.node.iconRadius,")")},o?s.a.createElement(o,null):s.a.createElement("circle",{cx:this.props.node.iconRadius,cy:this.props.node.iconRadius,r:this.props.node.iconRadius,fill:this.props.node.color})))}}]),n}(s.a.Component));ft.defaultProps={onMouseOver:function(){},onMouseOut:function(){},onClick:function(){},matchedNodeNameIndices:[]};var mt=ft,yt=(n(242),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props.edge.required?"graph-edge--required":"",t=this.props.isFaded?"graph-edge--faded":"",n=this.props.isHalfFaded?"graph-edge--half-faded":"",a=this.props.isHighlighted?"graph-edge--highlighted":"";return s.a.createElement("path",{className:"graph-edge \n          ".concat(e," \n          ").concat(t," \n          ").concat(n," \n          ").concat(a),d:this.props.edge.pathString})}}]),n}(s.a.Component)),vt=(n(243),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).onMouseOverNode=function(e){a.props.onHoverNode(e.id)},a.onMouseOutNode=function(){a.props.onCancelHoverNode()},a.onClickNode=function(e){a.props.onClickNode(e.id)},a.getNodeRef=function(e){return a.graphNodeRefs[e]||(a.graphNodeRefs[e]=s.a.createRef()),a.graphNodeRefs[e]},a.graphDomRef=s.a.createRef(),a.graphNodeRefs=[],a.nodeSVGElementInitialized=!1,a}return Object(E.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.isGraphView&&this.props.layoutInitialized&&!this.nodeSVGElementInitialized){var t=this.props.nodes.map((function(t){return{nodeID:t.id,svgElement:e.getNodeRef(t.id).current.getSVGElement()}})).reduce((function(e,t){return e[t.nodeID]=t.svgElement,e}),{});this.nodeSVGElementInitialized=!0,this.props.onGraphNodesSVGElementsUpdated(t)}}},{key:"render",value:function(){var e=this;if(!this.props.layoutInitialized)return s.a.createElement(s.a.Fragment,null);var t=this.props.graphBoundingBox[2][0],n=Math.min(this.props.canvasWidth,this.props.canvasHeight)/t,a=Math.abs((t-this.props.canvasWidth/n)/2),r=Math.abs((t-this.props.canvasHeight/n)/2);return isNaN(a)||isNaN(r)||isNaN(n)?s.a.createElement("g",null):s.a.createElement("g",{className:"graph-drawer",transform:"scale(".concat(n,") translate(").concat(a,", ").concat(r,") "),ref:this.graphDomRef},this.props.edges.map((function(t,n){var a=!1,r=!1,o=!1;if(e.props.isSearchMode)a=!0;else if(e.props.highlightingNode){var i=e.props.relatedNodeIDs.includes(t.source)&&e.props.relatedNodeIDs.includes(t.target);if(e.props.secondHighlightingNodeID){var c=!!e.props.pathRelatedToSecondHighlightingNode.find((function(e){return e.source===t.source&&e.target===t.target}));r=i&&!c,a=!i,o=c}else a=!i,o=i}return s.a.createElement(yt,{key:"".concat(t.source,"-").concat(t.target,"-").concat(n),edge:t,isRequired:t.required,isFaded:a,isHalfFaded:r,isHighlighted:o})})),this.props.nodes.map((function(t){var n=!1,a=!0,r=!1,o=!1,i=!1;e.props.isSearchMode?(n=!e.props.matchedNodeIDs.includes(t.id),i=e.props.matchedNodeIDsInNameAndDescription.length>0&&!n&&!e.props.matchedNodeIDsInNameAndDescription.includes(t.id),a=!n):e.props.highlightingNode&&(r=e.props.highlightingNode.id===t.id,a=e.props.highlightingNode.id===t.id||e.props.secondHighlightingNodeCandidateIDs.length>1&&e.props.secondHighlightingNodeCandidateIDs.includes(t.id),n=!e.props.relatedNodeIDs.includes(t.id),e.props.secondHighlightingNodeID&&(o=!n&&!e.props.pathRelatedToSecondHighlightingNode.find((function(e){return e.source===t.id||e.target===t.id}))));var c=[];return e.props.searchResult.forEach((function(e){e.item.id===t.id&&e.matches.forEach((function(e){"title"===e.key&&(c=e.indices)}))})),s.a.createElement(mt,{key:t.id,node:t,isHighlightingNode:r,isFaded:n,isHalfFaded:o,isDashed:i,isClickable:a,onMouseOver:function(){return e.onMouseOverNode(t)},onMouseOut:e.onMouseOutNode,onClick:function(){return e.onClickNode(t)},ref:e.getNodeRef(t.id),matchedNodeNameIndices:c})})))}}]),n}(s.a.Component));vt.defaultProps={nodes:[],edges:[],graphBoundingBox:[[0,0],[0,1],[1,1],[1,0]],layoutInitialized:!1,canvasWidth:1e3,canvasHeight:1e3,onHoverNode:function(){},onCancelHoverNode:function(){},onClickNode:function(){},highlightingNode:null,relatedNodeIDs:[],secondHighlightingNodeID:null,secondHighlightingNodeCandidateIDs:[],pathRelatedToSecondHighlightingNode:[],isGraphView:!0,isSearchMode:!1,matchedNodeIDs:[],matchedNodeIDsInNameAndDescription:[],onGraphNodesSVGElementsUpdated:function(){},searchResult:[]};var Et=vt,_t=Object(u.b)((function(e){return{nodes:e.ddgraph.nodes,edges:e.ddgraph.edges,graphBoundingBox:e.ddgraph.graphBoundingBox,layoutInitialized:e.ddgraph.layoutInitialized,highlightingNode:e.ddgraph.highlightingNode,relatedNodeIDs:e.ddgraph.relatedNodeIDs,secondHighlightingNodeCandidateIDs:e.ddgraph.secondHighlightingNodeCandidateIDs,pathRelatedToSecondHighlightingNode:e.ddgraph.pathRelatedToSecondHighlightingNode,secondHighlightingNodeID:e.ddgraph.secondHighlightingNodeID,isGraphView:e.ddgraph.isGraphView,matchedNodeIDs:e.ddgraph.matchedNodeIDs,matchedNodeIDsInNameAndDescription:e.ddgraph.matchedNodeIDsInNameAndDescription,searchResult:e.ddgraph.searchResult,isSearchMode:e.ddgraph.isSearchMode}}),(function(e){return{onHoverNode:function(t){return e(p(t))},onCancelHoverNode:function(){return e(p(null))},onClickNode:function(t){return e(function(e){return{type:"GRAPH_CLICK_NODE",nodeID:e}}(t))},onGraphNodesSVGElementsUpdated:function(t){return e(function(e){return{type:"GRAPH_NODES_SVG_ELEMENTS_UPDATED",graphNodesSVGElements:e}}(t))}}}))(Et),Nt=(n(244),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){if(!this.props.hoveringNode)return null;var e=this.props.graphNodesSVGElements&&this.props.graphNodesSVGElements[this.props.hoveringNode.id],t=e?e.getBoundingClientRect():{top:0,left:0,width:0},n=t.left-this.props.canvasBoundingRect.left+t.width/2,a=window.innerHeight-t.top+10;return s.a.createElement("div",{className:"node-tooltip",style:{bottom:a,left:n}},this.props.hoveringNode&&s.a.createElement("div",{className:"node-tooltip__wrapper"},s.a.createElement("span",{className:"node-tooltip__text"},this.props.hoveringNode.label),s.a.createElement("span",{className:"node-tooltip__arrow"})))}}]),n}(s.a.Component));Nt.defaultProps={hoveringNode:null,canvasBoundingRect:{top:0,left:0},graphNodesSVGElements:{}};var bt=Nt,St=Object(u.b)((function(e){return{hoveringNode:e.ddgraph.hoveringNode,canvasBoundingRect:e.ddgraph.canvasBoundingRect,graphNodesSVGElements:e.ddgraph.graphNodesSVGElements}}))(bt),It=(n(245),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClickPropertyButton=function(){e.props.onOpenOverlayPropertyTable()},e}return Object(E.a)(n,[{key:"render",value:function(){if(!this.props.highlightingNode)return s.a.createElement(s.a.Fragment,null);var e=this.props.graphNodesSVGElements&&this.props.graphNodesSVGElements[this.props.highlightingNode.id],t=e&&e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0,width:0,bottom:0},n=t.left-this.props.canvasBoundingRect.left+t.width/2,a=t.bottom-this.props.canvasBoundingRect.top;return s.a.createElement("div",{className:"node-popup",style:{top:a,left:n}},this.props.highlightingNode&&s.a.createElement("div",{className:"node-popup__wrapper"},s.a.createElement("div",{className:"node-popup__content"},s.a.createElement("li",{className:"node-popup__list-item"},this.props.highlightingNode.requiredPropertiesCount," required properties"),s.a.createElement("li",{className:"node-popup__list-item"},this.props.highlightingNode.optionalPropertiesCount," optional properties"),s.a.createElement(ge.a,{className:"node-popup__button",onClick:this.handleClickPropertyButton,label:"Open properties",buttonType:"secondary"})),s.a.createElement("span",{className:"node-popup__arrow node-popup__arrow--outer"}),s.a.createElement("span",{className:"node-popup__arrow node-popup__arrow--inner"}),s.a.createElement("i",{className:"node-popup__close g3-icon g3-icon--cross",onClick:this.props.onClosePopup,onKeyPress:this.props.onClosePopup,role:"button",tabIndex:0})))}}]),n}(s.a.Component));It.defaultProps={highlightingNode:null,graphNodesSVGElements:null,onClosePopup:function(){},canvasBoundingRect:{top:0,left:0},onOpenOverlayPropertyTable:function(){}};var Ot=It,Ct=Object(u.b)((function(e){return{highlightingNode:e.ddgraph.highlightingNode,canvasBoundingRect:e.ddgraph.canvasBoundingRect,graphNodesSVGElements:e.ddgraph.graphNodesSVGElements}}),(function(e){return{onClosePopup:function(){return e({type:"GRAPH_RESET_HIGHLIGHT"})},onOpenOverlayPropertyTable:function(){return e(g(!1))}}}))(Ot),wt=(n(246),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getTitle=function(){return e.props.isSearchMode?ve(e.props.matchedResult.matches,e.props.node.title,"overlay-property-table__span"):e.props.node.title},e.getDescription=function(){return e.props.isSearchMode?Ee(e.props.matchedResult.matches,e.props.node.description,"overlay-property-table__span"):e.props.node.description},e.handleClose=function(){e.props.onCloseOverlayPropertyTable()},e.handleOpenAllProperties=function(){e.props.onOpenMatchedProperties()},e.handleDisplayOnlyMatchedProperties=function(){e.props.onCloseMatchedProperties()},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this;if(!this.props.node||this.props.hidden)return s.a.createElement(s.a.Fragment,null);var t=le(this.props.node.category),n=this.props.isSearchMode&&!this.props.isSearchResultNodeOpened,a=this.props.isSearchMode;return s.a.createElement("div",{className:"overlay-property-table"},s.a.createElement("div",{className:"overlay-property-table__background"}),s.a.createElement("div",{className:"overlay-property-table__fixed-container"},s.a.createElement("div",{className:"overlay-property-table__content"},s.a.createElement("div",{className:"overlay-property-table__header"},s.a.createElement("div",{className:"overlay-property-table__category"},s.a.createElement(t,{className:"overlay-property-table__category-icon"}),s.a.createElement("h4",{className:"overlay-property-table__category-text"},this.props.node.category),this.props.isSearchMode&&s.a.createElement(ge.a,{className:"overlay-property-table__toggle-node",onClick:n?this.handleOpenAllProperties:this.handleDisplayOnlyMatchedProperties,label:n?"See All":"See Only Matched",buttonType:"secondary"}),s.a.createElement("span",{className:"overlay-property-table__close",onClick:this.handleClose,onKeyPress:this.handleClose,role:"button",tabIndex:0},"Close",s.a.createElement("i",{className:"overlay-property-table__close-icon g3-icon g3-icon--cross g3-icon--sm"})),s.a.createElement(ge.a,{className:"overlay-property-table__download-button",onClick:function(){H("tsv",e.props.node.id)},label:"TSV",buttonType:"secondary",rightIcon:"download"}),s.a.createElement(ge.a,{className:"overlay-property-table__download-button",onClick:function(){H("json",e.props.node.id)},label:"JSON",buttonType:"secondary",rightIcon:"download"})),s.a.createElement("div",{className:"overlay-property-table__node"},s.a.createElement("h3",{className:"overlay-property-table__node-title"},this.getTitle()),s.a.createElement("div",{className:"overlay-property-table__node-description introduction"},this.getDescription()))),s.a.createElement("div",{className:"overlay-property-table__property"},s.a.createElement(be,{properties:this.props.node.properties,requiredProperties:this.props.node.required,hasBorder:!1,onlyShowMatchedProperties:n,needHighlightSearchResult:a,hideIsRequired:n,matchedResult:this.props.matchedResult})))))}}]),n}(s.a.Component));wt.defaultProps={hidden:!0,node:null,onCloseOverlayPropertyTable:function(){},isSearchMode:!1,matchedResult:{},onOpenMatchedProperties:function(){},onCloseMatchedProperties:function(){},isSearchResultNodeOpened:!1};var Rt=wt,Dt=function(e){return e.ddgraph.isSearchMode?e.ddgraph.highlightingMatchedNodeID?e.submission.dictionary[e.ddgraph.highlightingMatchedNodeID]:null:e.ddgraph.highlightingNode?e.submission.dictionary[e.ddgraph.highlightingNode.id]:null},Ht=function(e){return e.ddgraph.isSearchMode?e.ddgraph.searchResult.find((function(t){return t.item.id===e.ddgraph.highlightingMatchedNodeID})):null},jt=Object(u.b)((function(e){return{hidden:e.ddgraph.overlayPropertyHidden,node:Dt(e),isSearchMode:e.ddgraph.isSearchMode,matchedResult:Ht(e),isSearchResultNodeOpened:e.ddgraph.highlightingMatchedNodeOpened}}),(function(e){return{onCloseOverlayPropertyTable:function(){return e(g(!0))},onOpenMatchedProperties:function(){return e(y(!0))},onCloseMatchedProperties:function(){return e(y(!1))}}}))(Rt),kt=(n(247),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClearSearch=function(){e.props.onClearSearchResult()},e}return Object(E.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"action-layer"},this.props.isSearchMode&&s.a.createElement(ge.a,{className:"action-layer__clear-search",onClick:this.handleClearSearch,label:"Clear Search Result"}))}}]),n}(s.a.Component));kt.defaultProps={isSearchMode:!1,onClearSearchResult:function(){}};var Mt=kt,Pt=Object(u.b)((function(e){return{isSearchMode:e.ddgraph.isSearchMode}}))(Mt),At=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(nt,null),s.a.createElement(ot,null),s.a.createElement(gt,null,s.a.createElement(_t,null)),s.a.createElement(St,null),s.a.createElement(Ct,null),s.a.createElement(jt,null),s.a.createElement(Pt,{onClearSearchResult:this.props.onClearSearchResult}))}}]),n}(s.a.Component);At.defaultProps={onClearSearchResult:function(){}};var Tt=At,xt=n(159),Gt=n.n(xt),zt=n(103),Lt=n(160),Ft=n.n(Lt),Bt=function(e,t){if(!t||t.length<2)return{result:[],errorMsg:"Keyword too short, try longer keyword."};if(t.length>32)return{result:[],errorMsg:"Keyword too long (more than 32)."};var n=Math.round(t.length/2),a={keys:["title","description","properties.name","properties.description","properties.type"],includeMatches:!0,threshold:.3,shouldSort:!0,includeScore:!0,minMatchCharLength:Math.min(Math.max(n,10),t.length)},r=new Ft.a(e,a).search(t).map((function(e){var t=e.matches.filter((function(e){return e.indices[0][1]>=e.indices[0][0]}));return Object(fe.a)({},e,{matches:t})})).map((function(e){var t=e.matches.filter((function(e){return e.indices[0][1]-e.indices[0][0]+1>=n}));return Object(fe.a)({},e,{matches:t})})).filter((function(e){return e.matches.length>0}));return{result:r,errorMsg:r&&r.length>0?"":"0 results found. Please try another keyword."}},Vt=(n(253),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a,r;return Object(v.a)(this,n),(a=t.call(this,e)).onClearResult=function(){a.resetSearchResult(),a.autoCompleteRef.current.clearInput()},a.launchClearSearchFromOutside=function(){a.onClearResult()},a.launchSearchFromOutside=function(e){a.autoCompleteRef.current.setInputText(e),a.search(e)},a.search=function(e){a.props.setIsSearching(!0);var t=Bt(a.searchData,e),n=t.result,r=t.errorMsg;if(!n||0===n.length)return a.props.setIsSearching(!1),a.props.onSearchResultUpdated([],[]),void a.setState({isSearchFinished:!0,hasError:!0,errorMsg:r,suggestionList:[]});var o=function(e){var t=[],n=[],a=[],r=0,o=0;return e.forEach((function(e){var i=e.item.id;e.matches.forEach((function(e){switch(e.key){case"properties.type":case"properties.name":case"properties.description":r+=1,n.includes(i)||n.push(i),a.includes(i)||a.push(i);break;case"title":case"description":o+=1,t.includes(i)||t.push(i),a.includes(i)||a.push(i)}}))})),{matchedPropertiesCount:r,matchedNodeNameAndDescriptionsCount:o,matchedNodeIDsInNameAndDescription:t,matchedNodeIDsInProperties:n,generalMatchedNodeIDs:a}}(n);a.setState({isSearchFinished:!0,hasError:!1,searchResult:{matchedNodes:n,summary:o},suggestionList:[]}),a.props.setIsSearching(!1),a.props.onSearchResultUpdated(n,o),a.props.onSearchHistoryItemCreated({keywordStr:e,matchedCount:o.generalMatchedNodeIDs.length}),a.props.onSaveCurrentSearchKeyword(e)},a.resetSearchResult=function(){a.setState({isSearchFinished:!1,searchResult:{matchedNodes:[],summary:{}}}),a.props.onSearchResultCleared()},a.inputChangeFunc=function(e){a.props.onStartSearching(),a.resetSearchResult();var t=Bt(a.searchData,e).result,n={};t.forEach((function(e){e.matches.forEach((function(e){n[e.value]||(n[e.value]={matchedPieceIndices:e.indices.map((function(e){return[e[0],e[1]+1]}))})}))}));var r=Object.keys(n).sort((function(t,n){return Object(zt.compareTwoStrings)(n,e)-Object(zt.compareTwoStrings)(t,e)})).map((function(e){return{fullString:e,matchedPieceIndices:n[e].matchedPieceIndices}}));a.setState({suggestionList:r})},a.suggestionItemClickFunc=function(e){a.autoCompleteRef.current.setInputText(e.fullString),a.search(e.fullString)},a.submitInputFunc=function(e){a.search(e)},a.searchData=(r=e.dictionary,A(r).map((function(e){var t=Object.keys(e.properties).map((function(t){var n=D(e.properties[t]);return"UNDEFINED"===n&&(n=void 0),{name:t,description:T(e.properties[t]),type:n}}));return{id:e.id,title:e.title,description:e.description,properties:t}}))),a.autoCompleteRef=s.a.createRef(),a.state={suggestionList:[],isSearchFinished:!1,searchResult:{matchedNodes:[],summary:{}},hasError:!1,errorMsg:""},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.props.currentSearchKeyword&&(this.autoCompleteRef.current.setInputText(this.props.currentSearchKeyword),this.search(this.props.currentSearchKeyword))}},{key:"render",value:function(){return s.a.createElement("div",{className:"data-dictionary-searcher"},s.a.createElement(Gt.a,{ref:this.autoCompleteRef,suggestionList:this.state.suggestionList,inputPlaceHolderText:"Search in Dictionary",onSuggestionItemClick:this.suggestionItemClickFunc,onInputChange:this.inputChangeFunc,onSubmitInput:this.submitInputFunc}),this.state.isSearchFinished&&s.a.createElement(s.a.Fragment,null,!this.state.hasError&&(this.state.searchResult.matchedNodes.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"dictionary-searcher__result"},s.a.createElement("h4",{className:"dictionary-searcher__result-text"},"Search Results"),s.a.createElement("span",{className:"dictionary-searcher__result-clear body",onClick:this.onClearResult,role:"button",tabIndex:0,onKeyPress:this.onClearResult},"Clear Result")),s.a.createElement("li",{className:"dictionary-searcher__result-item body"},s.a.createElement("span",{className:"dictionary-searcher__result-count"},this.state.searchResult.summary.matchedNodeNameAndDescriptionsCount)," matches in nodes (title and description)"),s.a.createElement("li",{className:"dictionary-searcher__result-item body"},s.a.createElement("span",{className:"dictionary-searcher__result-count"},this.state.searchResult.summary.matchedPropertiesCount)," matches in node properties")):s.a.createElement("p",null,"0 results found. Please try another keyword.")),this.state.hasError&&s.a.createElement("p",null,this.state.errorMsg)))}}]),n}(s.a.Component));Vt.defaultProps={setIsSearching:function(){},onSearchResultUpdated:function(){},onSearchHistoryItemCreated:function(){},onSearchResultCleared:function(){},onSaveCurrentSearchKeyword:function(){},currentSearchKeyword:"",onStartSearching:function(){}};var Ut=Vt,qt=Object(u.b)((function(e){return{dictionary:e.submission.dictionary,currentSearchKeyword:e.ddgraph.currentSearchKeyword}}),(function(e){return{setIsSearching:function(t){return e(function(e){return{type:"SEARCH_SET_IS_SEARCHING_STATUS",isSearching:e}}(t))},onSearchResultUpdated:function(t,n){return e({type:"SEARCH_RESULT_UPDATED",searchResult:t,searchResultSummary:n})},onSearchHistoryItemCreated:function(t){return e(function(e){return{type:"SEARCH_HISTORY_ITEM_CREATED",searchHistoryItem:e}}(t))},onSearchResultCleared:function(){return e({type:"SEARCH_RESULT_CLEARED"})},onSaveCurrentSearchKeyword:function(t){return e(function(e){return{type:"SEARCH_SAVE_CURRENT_KEYWORD",keyword:e}}(t))},onStartSearching:function(){return e({type:"GRAPH_RESET_HIGHLIGHT"})}}}),null,{withRef:!0})(Ut),Kt=(n(254),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){e.props.onClickSearchHistoryItem(t)},e.handleClearHistory=function(){e.props.onClearSearchHistoryItems()},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this;return this.props.searchHistoryItems&&this.props.searchHistoryItems.length>0?s.a.createElement("div",{className:"dictionary-search-history"},s.a.createElement("div",{className:"dictionary-search-history__title"},s.a.createElement("h4",{className:"dictionary-search-history__title-text"},"Last Search"),s.a.createElement("span",{className:"dictionary-search-history__clear",onClick:this.handleClearHistory,role:"button",onKeyPress:this.handleClearHistory,tabIndex:0},"Clear History")),s.a.createElement("div",null,this.props.searchHistoryItems&&this.props.searchHistoryItems.map((function(t){var n=0===t.matchedCount?"dictionary-search-history__item-badge--zero":"";return s.a.createElement("div",{className:"dictionary-search-history__item",key:t.keywordStr,onClick:function(){return e.handleClick(t.keywordStr)},role:"button",onKeyPress:function(){return e.handleClick(t.keywordStr)},tabIndex:0},s.a.createElement("span",{className:"dictionary-search-history__item-keyword"},t.keywordStr),s.a.createElement("span",{className:"dictionary-search-history__item-badge ".concat(n)},t.matchedCount))})))):null}}]),n}(s.a.Component));Kt.defaultProps={searchHistoryItems:[],onClickSearchHistoryItem:function(){},onClearSearchHistoryItems:function(){}};var Wt=Kt,Yt=Object(u.b)((function(e){return{searchHistoryItems:e.ddgraph.searchHistoryItems}}),(function(e){return{onClearSearchHistoryItems:function(){return e({type:"SEARCH_CLEAR_HISTORY"})}}}))(Wt),Jt=(n(255),function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).setGraphView=function(e){a.props.onSetGraphView(e)},a.handleClickSearchHistoryItem=function(e){a.dictionarySearcherRef.current.getWrappedInstance().launchSearchFromOutside(e)},a.handleClearSearchResult=function(){a.dictionarySearcherRef.current.getWrappedInstance().launchClearSearchFromOutside()},a.dictionarySearcherRef=s.a.createRef(),a}return Object(E.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"data-dictionary"},s.a.createElement("div",{className:"data-dictionary__sidebar"},s.a.createElement("div",{className:"data-dictionary__switch"},s.a.createElement("span",{className:"data-dictionary__switch-button ".concat(this.props.isGraphView?"data-dictionary__switch-button--active":""),onClick:function(){e.setGraphView(!0)},onKeyPress:function(){e.setGraphView(!0)},role:"button",tabIndex:0},"Graph View"),s.a.createElement("span",{className:"data-dictionary__switch-button ".concat(this.props.isGraphView?"":"data-dictionary__switch-button--active"),onClick:function(){e.setGraphView(!1)},onKeyPress:function(){e.setGraphView(!0)},role:"button",tabIndex:0},"Table View")),s.a.createElement(qt,{ref:this.dictionarySearcherRef}),s.a.createElement(Pe,null),s.a.createElement(Yt,{onClickSearchHistoryItem:this.handleClickSearchHistoryItem}),s.a.createElement("div",{className:"data-dictionary__search-history"})),s.a.createElement("div",{className:"data-dictionary__main"},this.props.isGraphView?s.a.createElement("div",{className:"data-dictionary__graph ".concat(this.props.isGraphView?"":"data-dictionary__graph--hidden")},s.a.createElement(Tt,{onClearSearchResult:this.handleClearSearchResult})):s.a.createElement("div",{className:"data-dictionary__table ".concat(this.props.isGraphView?"data-dictionary__table--hidden":"")},s.a.createElement(De,null))))}}]),n}(s.a.Component));Jt.defaultProps={onSetGraphView:function(){},isGraphView:!1};var Zt=Jt,Xt=Object(u.b)((function(e){return{isGraphView:e.ddgraph.isGraphView}}),(function(e){return{onSetGraphView:function(t){return e(f(t))}}}))(Zt),$t={isGraphView:!0,layoutInitialized:!1,nodes:[],edges:[],graphBoundingBox:[],legendItems:[],hoveringNode:null,highlightingNode:null,relatedNodeIDs:[],secondHighlightingNodeID:null,dataModelStructure:null,overlayPropertyHidden:!0,canvasBoundingRect:{top:0,left:0},needReset:!1,tableExpandNodeID:null,searchHistoryItems:x(),graphNodesSVGElements:null,currentSearchKeyword:"",searchResult:[],matchedNodeIDs:[],matchedNodeIDsInProperties:[],matchedNodeIDsInNameAndDescription:[],isSearchMode:!1,isSearching:!1,highlightingMatchedNodeID:null,highlightingMatchedNodeOpened:!1},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_GRAPH_TABLE_VIEW":return Object(fe.a)({},e,{isGraphView:t.isGraphView,overlayPropertyHidden:!0});case"GRAPH_LAYOUT_CALCULATED":return Object(fe.a)({},e,{nodes:t.nodes,edges:t.edges,graphBoundingBox:t.graphBoundingBox,layoutInitialized:!0});case"GRAPH_LEGEND_CALCULATED":return Object(fe.a)({},e,{legendItems:t.legendItems});case"GRAPH_UPDATE_HOVERING_NODE":var n=e.nodes.find((function(e){return e.id===t.nodeID}));return Object(fe.a)({},e,{hoveringNode:n});case"GRAPH_UPDATE_CANVAS_BOUNDING_RECT":return Object(fe.a)({},e,{canvasBoundingRect:t.canvasBoundingRect});case"GRAPH_UPDATE_RELATED_HIGHLIGHTING_NODE":return Object(fe.a)({},e,{relatedNodeIDs:t.relatedNodeIDs});case"GRAPH_UPDATE_SECOND_HIGHLIGHTING_NODE_CANDIDATES":return Object(fe.a)({},e,{secondHighlightingNodeCandidateIDs:t.secondHighlightingNodeCandidateIDs});case"GRAPH_UPDATE_PATH_RELATED_TO_SECOND_HIGHLIGHTING_NODE":return Object(fe.a)({},e,{pathRelatedToSecondHighlightingNode:t.pathRelatedToSecondHighlightingNode});case"GRAPH_UPDATE_DATA_MODEL_STRUCTURE":return Object(fe.a)({},e,{dataModelStructure:t.dataModelStructure,dataModelStructureRelatedNodeIDs:t.dataModelStructureRelatedNodeIDs,dataModelStructureAllRoutesBetween:t.routesBetweenStartEndNodes});case"GRAPH_SET_OVERLAY_PROPERTY_TABLE_HIDDEN":return Object(fe.a)({},e,{overlayPropertyHidden:t.isHidden});case"GRAPH_CANVAS_RESET_REQUIRED":return Object(fe.a)({},e,{needReset:t.needReset});case"GRAPH_RESET_HIGHLIGHT":return Object(fe.a)({},e,{highlightingNode:null,secondHighlightingNodeID:null,tableExpandNodeID:null});case"GRAPH_CLICK_NODE":if(e.isSearchMode)return Object(fe.a)({},e,{highlightingMatchedNodeID:t.nodeID,highlightingMatchedNodeOpened:!1,overlayPropertyHidden:!1});var a=null,r=null;t.nodeID&&(e.highlightingNode?e.highlightingNode&&(a=e.highlightingNode,e.highlightingNode.id===t.nodeID?e.secondHighlightingNodeID||(a=null):e.secondHighlightingNodeCandidateIDs.length>1&&e.secondHighlightingNodeCandidateIDs.includes(t.nodeID)&&(r=e.secondHighlightingNodeID===t.nodeID?null:t.nodeID)):a=e.nodes.find((function(e){return e.id===t.nodeID})));var o=a?a.id:null;return Object(fe.a)({},e,{highlightingNode:a,secondHighlightingNodeID:r,tableExpandNodeID:o});case"GRAPH_CLICK_BLANK_SPACE":var i=e.highlightingNode,c=e.secondHighlightingNodeID,s=e.tableExpandNodeID;return e.highlightingNode&&(e.secondHighlightingNodeID?c=null:(i=null,s=null)),Object(fe.a)({},e,{highlightingNode:i,secondHighlightingNodeID:c,tableExpandNodeID:s});case"TABLE_EXPAND_NODE":var l=null;return t.nodeID&&(l=e.nodes.find((function(e){return e.id===t.nodeID}))),Object(fe.a)({},e,{tableExpandNodeID:t.nodeID,highlightingNode:l,secondHighlightingNodeID:null});case"SEARCH_SET_IS_SEARCHING_STATUS":return Object(fe.a)({},e,{isSearching:t.isSearching});case"SEARCH_RESULT_UPDATED":return Object(fe.a)({},e,{searchResult:t.searchResult,matchedNodeIDs:t.searchResultSummary.generalMatchedNodeIDs,matchedNodeIDsInNameAndDescription:t.searchResultSummary.matchedNodeIDsInNameAndDescription,matchedNodeIDsInProperties:t.searchResultSummary.matchedNodeIDsInProperties,isGraphView:!0,isSearchMode:!0,highlightingMatchedNodeID:null,highlightingMatchedNodeOpened:!1,highlightingNode:null,secondHighlightingNodeID:null,tableExpandNodeID:null});case"SEARCH_CLEAR_HISTORY":return Object(fe.a)({},e,{searchHistoryItems:z()});case"SEARCH_HISTORY_ITEM_CREATED":return Object(fe.a)({},e,{searchHistoryItems:G(t.searchHistoryItem)});case"GRAPH_NODES_SVG_ELEMENTS_UPDATED":return Object(fe.a)({},e,{graphNodesSVGElements:t.graphNodesSVGElements});case"SEARCH_RESULT_CLEARED":return Object(fe.a)({},e,{searchResult:[],matchedNodeIDs:[],currentSearchKeyword:"",isSearchMode:!1,highlightingMatchedNodeID:null,highlightingMatchedNodeOpened:!1});case"SEARCH_SAVE_CURRENT_KEYWORD":return Object(fe.a)({},e,{currentSearchKeyword:t.keyword});case"GRAPH_MATCHED_NODE_OPENED":return Object(fe.a)({},e,{highlightingMatchedNodeOpened:t.opened});default:return e}},en=function(e){return Object.keys(e).filter((function(t){return"data_file"===e[t].category}))},tn=function(e){return Object.keys(e).filter((function(e){return"_"!==e.charAt(0)}))},nn=function(e){return e.properties&&Object.keys(e.properties).filter((function(t){return!e.systemProperties||!e.systemProperties.includes(t)})).reduce((function(t,n){return t[n]=e.properties[n],t}),{})},an=function(e){return Object.keys(e).map((function(t){var n=e[t];return n.properties?Object(fe.a)({},n,{properties:nn(n)}):n})).reduce((function(e,t){return e[t.id]=t,e}),{})},rn=Object(h.b)({submission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_UPLOAD":case"UPDATE_FILE":return Object(fe.a)({},e,{file:t.file,file_type:t.file_type});case"UPDATE_FORM_SCHEMA":return Object(fe.a)({},e,{formSchema:Object(fe.a)({},e.formSchema,{},t.formSchema)});case"RECEIVE_PROJECTS":return Object(fe.a)({},e,{projects:t.data.reduce((function(e,t){var n=e;return n[t.code]=t.project_id,n}),{}),projectAvail:t.data.reduce((function(e,t){var n=e;return n[t.project_id]=t.availability_type,n}),{})});case"RECEIVE_NODE_TYPES":return Object(fe.a)({},e,{nodeTypes:t.data});case"RECEIVE_DICTIONARY":return Object(fe.a)({},e,{dictionary:an(t.data),nodeTypes:tn(t.data),file_nodes:en(t.data)});case"RECEIVE_AUTHORIZATION_URL":return Object(fe.a)({},e,{oauth_url:t.url});case"RECEIVE_SUBMISSION_LOGIN":return Object(fe.a)({},e,{login:e.result,error:e.error});case"RECEIVE_SUBMISSION":var n="submit_entity_counts"in e?e.submit_entity_counts:{},a=(t.data.entities||[]).map((function(e){return e.type||"unknown"})).reduce((function(e,t){var n=e;return n[t]=(n[t]||0)+1,n}),n),r=e.submit_result?e.submit_result.concat(t.data.entities||[]):t.data.entities,o=e.submit_status?Math.max(e.submit_status,t.submit_status):t.submit_status;return Object(fe.a)({},e,{submit_entity_counts:a,submit_result:r,submit_result_string:e.submit_result_string.concat(JSON.stringify(t.data,null,"    ")).concat("\n\n"),submit_status:o,submit_counter:e.submit_counter+1,submit_total:t.total});case"SUBMIT_SEARCH_FORM":return Object(fe.a)({},e,{search_form:t.data});case"RECEIVE_SEARCH_ENTITIES":return Object(fe.a)({},e,{search_result:t.data,search_status:t.search_status});case"RECEIVE_COUNTS":return Object(fe.a)({},e,{counts_search:t.data,links_search:Object.entries(t.data).reduce((function(e,t){return e[t[0]]=t[1].length,e}),{})});case"CLEAR_COUNTS":return Object(fe.a)({},e,{counts_search:null,links_search:null});case"RECEIVE_UNMAPPED_FILES":return Object(fe.a)({},e,{unmappedFiles:t.data});case"RECEIVE_UNMAPPED_FILE_STATISTICS":return Object(fe.a)({},e,{unmappedFileCount:t.data.count,unmappedFileSize:t.data.totalSize});case"RECEIVE_FILES_TO_MAP":return Object(fe.a)({},e,{filesToMap:t.data});case"RESET_SUBMISSION_STATUS":return Object(fe.a)({},e,{submit_entity_counts:[],submit_result:null,submit_result_string:"",submit_status:0,submit_counter:0,submit_total:0});default:return e}},ddgraph:Qt,versionInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_VERSION_INFO":return Object(fe.a)({},e,{dictionaryVersion:t.data.dictionary.version||"unknown",apiVersion:t.data.version||"unknown"});default:return e}}}),on=n(161),cn=n.n(on),sn={commit:"913161064b02bcef024d072873e77c8c79cc1a68",dictionary:{commit:"520a25999fd183f6c5b7ddef2980f3e839517da5",version:"0.2.1-9-g520a259"},version:"4.0.0-44-g9131610"},ln=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(var o in t)0===r&&(a=o),"$ref"===o&&(t.$ref=n(t.$ref,a)),null!==t[o]&&"object"===typeof t[o]&&(t[o]=e(t[o],n,a,r+1));return t};function dn(){return(dn=Object(i.a)(r.a.mark((function e(){var t,n,a,i,c,l,p,g,f,m,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.c)(rn),n="./default/schema.json",window.location.hash&&(n=window.location.hash.slice(1)),e.next=5,fetch(n);case 5:return a=e.sent,e.next=8,a.json();case 8:for(i=e.sent,c={},l=0,p=Object.entries(i);l<p.length;l++)g=Object(o.a)(p[l],2),f=g[0],m=g[1],c[f.slice(0,-5)]=m;return(c=ln(c,(function(e,t){return e.includes(".yaml")?(e="#/"+e.replace(".yaml#",""),console.log("ABS FIX -- "+t+": "+e)):(e="#/"+t+"/"+e.replace("#/",""),console.log("REL FIX -- "+t+": "+e)),e})))._terms.file_format={description:"wut"},e.next=15,cn.a.dereference(c,{continueOnError:!1,dereference:{circular:!0}});case 15:return y=e.sent,e.next=18,Promise.all([t.dispatch({type:"RECEIVE_DICTIONARY",data:y}),t.dispatch({type:"RECEIVE_VERSION_INFO",data:sn})]);case 18:d.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(u.a,{store:t},s.a.createElement(Xt,null))),document.getElementById("root"));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){dn.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.45073f97.chunk.js.map